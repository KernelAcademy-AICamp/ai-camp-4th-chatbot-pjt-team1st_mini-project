# 국립중앙박물관 외국인 관람객용 학습 도우미 'NCM' 챗봇

## 프로젝트 명세서 (Project Specification)

---

## 1. 프로젝트 개요

### 1.1 프로젝트명
**학습 도우미 NCM (National Center Museum Learning Assistant)**

### 1.2 프로젝트 목적
국립중앙박물관을 방문한 외국인 관람객이 전시 유물을 보다 깊이 이해하고, 능동적으로 학습할 수 있도록 돕는 **인터랙티브 학습 파트너 챗봇** 서비스를 구축한다.

### 1.3 프로젝트 배경

#### K-컬처와 증가하는 해외 방문객
전 세계적으로 확산되고 있는 한류(K-컬처)의 영향으로 한국을 찾는 외국인 방문객 수가 지속적으로 증가하고 있다. 이들은 단순 관광을 넘어, 한국 문화에 대한 깊이 있는 이해와 체험을 원하고 있다.

#### 국립중앙박물관의 위상
- 한국의 역사, 예술, 문화유산을 한눈에 조망할 수 있는 대표적인 문화 공간
- 외국인 관람객의 주요 방문지
- **2025년 기준 연간 방문객 약 650만 명** (전년 대비 1.7배 증가, 사상 최대)
- 세계적인 박물관으로서의 위상 확립

#### 박물관 관람 경험 확장 트렌드
| 기존 관람 방식 | 새로운 트렌드 |
|--------------|-------------|
| 일방적 정보 전달 | 쌍방향 상호작용 |
| 표준화된 콘텐츠 | 개인화된 맞춤 정보 |
| 수동적 관람 | 능동적 학습 참여 |

**핵심 키워드**: `#개인화` `#상호작용` `#학습경험확장`

### 1.4 프로젝트 목표

#### 단기 목표 (MVP)
- 웹 기반 학습 도우미 챗봇 프로토타입 구현
- 국보급 유물 15점 기반 퀴즈 학습 시스템 구축
- AI 기반 동적 퀴즈 생성 및 맞춤형 해설 제공

#### 중장기 목표
- 국립중앙박물관 공식 앱 내 ChatBot 시스템 통합
- 다국어(영어, 중국어, 일본어 등) 지원 확대
- 전체 소장품 데이터베이스 연동

---

## 2. 기능 명세 (Functional Specification)

### 2.1 기능 개요

```
┌─────────────────────────────────────────────────────────────┐
│                    학습 도우미 NCM 기능 구조                    │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│  ┌─────────────┐  ┌─────────────┐  ┌─────────────┐         │
│  │  기존 기능   │  │  핵심 기능   │  │  부가 기능   │         │
│  │  (현재제공)  │  │  (신규개발)  │  │  (향후예정)  │         │
│  ├─────────────┤  ├─────────────┤  ├─────────────┤         │
│  │ • 관람정보  │  │ • 유물선택  │  │ • 자료추천  │         │
│  │ • 전시일정  │  │ • 퀴즈생성  │  │ • 북마크    │         │
│  │ • 오시는길  │  │ • 질문응답  │  │ • 학습기록  │         │
│  │ • FAQ      │  │ • 결과분석  │  │ • 공유기능  │         │
│  └─────────────┘  └─────────────┘  └─────────────┘         │
│                                                             │
└─────────────────────────────────────────────────────────────┘
```

### 2.2 핵심 기능 상세

#### 2.2.1 유물 선택 기능 (Artifact Selection)

| 항목 | 설명 |
|-----|------|
| **기능명** | 학습할 유물 선택 |
| **목적** | 관람한 유물 중 학습하고 싶은 유물을 직접 선택 |
| **입력** | 사용자의 유물 선택 (터치/클릭) |
| **출력** | 선택된 유물 목록 (3~10개) |
| **제약조건** | 최소 3개, 최대 10개 선택 필수 |

**상세 기능:**
- 10개의 대표 유물을 카드 형태로 표시
- 각 카드에 유물 이미지, 명칭, 시대, 소장처, 지정번호 표시
- 선택/해제 토글 버튼 (○/✓)
- 실시간 선택 개수 표시 및 유효성 검증

#### 2.2.2 퀴즈 생성 기능 (Quiz Generation)

| 항목 | 설명 |
|-----|------|
| **기능명** | AI 기반 동적 퀴즈 생성 |
| **목적** | 선택한 유물에 대한 학습 퀴즈 자동 생성 |
| **입력** | 선택된 유물 정보 (명칭, 시대, 재질, 설명 등) |
| **출력** | 4지선다형 퀴즈 (문제, 선택지 4개, 정답, 해설) |
| **AI 모델** | Google Gemini 2.0-Flash |

**퀴즈 구조:**
```json
{
  "question": "이 유물의 제작 시기는 언제인가요?",
  "options": ["삼국시대", "고려시대", "조선시대", "근대"],
  "answer": 0,
  "explanation": "이 유물은 삼국시대 6세기에 제작된 것으로..."
}
```

**연령대별 난이도 조정:**
| 연령대 | 난이도 | 문제 유형 |
|-------|-------|---------|
| 어린이 (7-12세) | 쉬움 | 기본 정보, 시각적 특징 |
| 청소년 (13-18세) | 보통 | 역사적 맥락, 제작 기법 |
| 성인 (19세 이상) | 어려움 | 학술적 의의, 비교 분석 |

#### 2.2.3 질문 응답 기능 (Q&A)

| 항목 | 설명 |
|-----|------|
| **기능명** | 실시간 질문 응답 |
| **목적** | 퀴즈 풀이 중 궁금한 점 즉시 해결 |
| **입력** | 사용자의 자유 형식 질문 |
| **출력** | AI 기반 맞춤형 답변 (300자 이내) |
| **특징** | 퀴즈 문맥을 고려한 관련 정보 제공 |

**기능 흐름:**
1. 퀴즈 화면에서 "궁금한 점이 있으신가요?" 입력창 제공
2. 사용자가 질문 입력 후 답안 제출
3. AI가 정답 여부 + 사용자 질문을 함께 고려하여 해설 생성
4. 맞춤형 해설로 학습 효과 극대화

#### 2.2.4 결과 분석 기능 (Result Analysis)

| 항목 | 설명 |
|-----|------|
| **기능명** | 학습 결과 요약 및 분석 |
| **목적** | 퀴즈 결과를 통한 학습 성취도 확인 |
| **입력** | 전체 퀴즈 응답 데이터 |
| **출력** | 점수, 정답률, 상세 오답 분석 |

**결과 화면 구성:**
- 최종 점수 (X / Y 형식)
- 성취도 기반 격려 메시지
- 문제별 상세 리뷰 (펼치기/접기)
  - 내가 선택한 답 vs 정답
  - AI 해설
  - 추가 질문에 대한 답변
- 다시 도전하기 버튼

### 2.3 기능 요구사항 목록

| ID | 기능 | 우선순위 | 상태 | 설명 |
|----|-----|---------|-----|------|
| F-001 | 유물 목록 표시 | 필수 | ✅ 완료 | 국보급 유물 카드 리스트 표시 |
| F-002 | 유물 선택 | 필수 | ✅ 완료 | 3-10개 유물 선택 기능 |
| F-003 | 동적 퀴즈 생성 | 필수 | ✅ 완료 | AI 기반 퀴즈 자동 생성 |
| F-004 | 퀴즈 풀이 | 필수 | ✅ 완료 | 4지선다 퀴즈 인터페이스 |
| F-005 | 실시간 질문 | 필수 | ✅ 완료 | 퀴즈 중 자유 질문 입력 |
| F-006 | 맞춤형 해설 | 필수 | ✅ 완료 | AI 기반 개인화 해설 |
| F-007 | 결과 요약 | 필수 | ✅ 완료 | 점수 및 상세 리뷰 |
| F-008 | 진행률 표시 | 보통 | ✅ 완료 | 프로그레스 바 UI |
| F-009 | 채팅 히스토리 | 보통 | ✅ 완료 | 대화 내역 유지 |
| F-010 | 연령대 입력 | 보통 | 🔄 예정 | 난이도 조정용 연령 입력 |
| F-011 | 자료 추천 | 낮음 | 🔄 예정 | 관련 학습 자료 추천 |
| F-012 | 다국어 지원 | 낮음 | 🔄 예정 | 영어/중국어/일본어 |

---

## 3. 개발 명세 (Technical Specification)

### 3.1 시스템 아키텍처

```
┌─────────────────────────────────────────────────────────────────┐
│                        시스템 아키텍처                            │
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│  ┌─────────────┐                                               │
│  │   사용자     │                                               │
│  │  (브라우저)  │                                               │
│  └──────┬──────┘                                               │
│         │                                                       │
│         ▼                                                       │
│  ┌─────────────────────────────────────────────────────┐       │
│  │              Streamlit Web Application              │       │
│  │  ┌─────────┐ ┌─────────┐ ┌─────────┐ ┌─────────┐  │       │
│  │  │ app.py  │ │ config/ │ │  data/  │ │services/│  │       │
│  │  │ (메인)  │ │ (설정)  │ │ (유물DB)│ │ (API)   │  │       │
│  │  └─────────┘ └─────────┘ └─────────┘ └─────────┘  │       │
│  └──────────────────────┬──────────────────────────────┘       │
│                         │                                       │
│         ┌───────────────┼───────────────┐                      │
│         ▼               ▼               ▼                      │
│  ┌─────────────┐ ┌─────────────┐ ┌─────────────┐              │
│  │ Google      │ │ 국립중앙    │ │ Session     │              │
│  │ Gemini API  │ │ 박물관 API  │ │ State       │              │
│  │ (AI 생성)   │ │ (유물 데이터)│ │ (상태 관리) │              │
│  └─────────────┘ └─────────────┘ └─────────────┘              │
│                                                                 │
└─────────────────────────────────────────────────────────────────┘
```

### 3.2 디렉토리 구조

```
museum-chatbot/
├── app.py                    # 메인 애플리케이션 (575 lines)
├── config/
│   ├── __init__.py
│   ├── settings.py           # 앱 설정 (개발자 담당)
│   ├── styles.py             # UI/CSS 스타일링 (디자이너 담당)
│   └── prompts.py            # AI 프롬프트 및 메시지 (PM 담당)
├── data/
│   ├── __init__.py
│   └── artifacts.py          # 유물 데이터베이스 (국보 15점)
├── services/
│   ├── __init__.py
│   ├── llm_service.py        # Google Gemini API 연동
│   └── museum_api.py         # 국립중앙박물관 API 연동
├── requirements.txt          # Python 의존성
├── .env.example              # 환경 변수 템플릿
└── README.md                 # 프로젝트 문서
```

### 3.3 기술 스택

#### Frontend
| 기술 | 버전 | 용도 |
|-----|-----|------|
| Streamlit | 1.30.0+ | 웹 UI 프레임워크 |
| HTML/CSS | - | 커스텀 스타일링 |
| Google Fonts | - | Noto Sans KR 폰트 |

#### Backend / AI
| 기술 | 버전 | 용도 |
|-----|-----|------|
| Python | 3.10+ | 코어 언어 |
| Google Generative AI | 0.3.0+ | Gemini API 클라이언트 |
| Requests | 2.31.0+ | HTTP 클라이언트 |
| python-dotenv | 1.0.0+ | 환경 변수 관리 |

#### AI 모델
| 모델 | 용도 | 설정 |
|-----|------|-----|
| Gemini 2.0-Flash | 퀴즈 생성, 해설 생성 | temperature: 0.7, max_tokens: 1024 |

#### External APIs
| API | 제공처 | 용도 |
|-----|-------|------|
| e-Museum OpenAPI | 국립중앙박물관 | 유물 데이터 조회 |
| Generative AI API | Google | AI 콘텐츠 생성 |

### 3.4 데이터 모델

#### 유물 데이터 구조 (Artifact)
```python
{
    "id": "NMK-001",                          # 고유 식별자
    "name": "금동미륵보살반가사유상",              # 유물명
    "period": "삼국시대 (6세기)",                # 제작 시대
    "material": "금동 (청동에 금도금)",           # 재질
    "location": "국립중앙박물관",                 # 소장처
    "gallery": "사유의 방 (2층)",                # 전시 위치
    "designation": "국보 제78호",                # 문화재 지정
    "image_url": "https://...",                 # 이미지 URL
    "description": "높이 83.2cm의...",          # 상세 설명
    "quiz": {                                   # 기본 퀴즈 (폴백용)
        "question": "...",
        "options": ["...", "...", "...", "..."],
        "answer": 1,
        "explanation": "..."
    },
    "fun_facts": ["...", "..."]                 # 흥미로운 사실
}
```

#### 퀴즈 데이터 구조 (Quiz)
```python
{
    "question": "문제 내용",
    "options": ["선택지1", "선택지2", "선택지3", "선택지4"],
    "answer": 0,                  # 정답 인덱스 (0-3)
    "explanation": "정답 해설"
}
```

#### 응답 기록 구조 (Answer Record)
```python
{
    "artifact": "유물명",
    "question": "출제된 문제",
    "user_answer": "사용자 선택 답",
    "correct_answer": "정답",
    "is_correct": True/False,
    "user_question": "사용자 추가 질문",
    "explanation": "맞춤 해설"
}
```

#### 채팅 메시지 구조 (Chat Message)
```python
{
    "role": "user" | "assistant",
    "content": "메시지 내용"
}
```

### 3.5 세션 상태 관리

```python
session_state = {
    # 단계 관리
    "stage": "select" | "quiz" | "result",

    # 유물 데이터
    "available_artifacts": [],      # 표시된 유물 목록
    "selected_ids": set(),          # 선택된 유물 ID 집합
    "selected_artifacts": [],       # 선택된 유물 상세 정보

    # 퀴즈 상태
    "current_quiz_index": 0,        # 현재 문제 번호
    "score": 0,                     # 현재 점수
    "answers": [],                  # 응답 기록 목록
    "generated_quizzes": {},        # 생성된 퀴즈 캐시
    "selected_answer": None,        # 현재 선택된 답 (0-3)

    # UI 상태
    "quiz_started": False,
    "quiz_generating": False,       # 중복 클릭 방지

    # 서비스
    "chat_history": [],             # 채팅 히스토리
    "llm_service": LLMService()     # AI 서비스 인스턴스
}
```

### 3.6 주요 함수 명세

#### app.py
| 함수명 | 설명 | 입력 | 출력 |
|-------|------|-----|------|
| `main()` | 메인 애플리케이션 진입점 | - | - |
| `initialize_session_state()` | 세션 상태 초기화 | - | - |
| `render_selection_stage()` | 유물 선택 화면 렌더링 | - | - |
| `render_quiz_stage()` | 퀴즈 화면 렌더링 | - | - |
| `render_result_stage()` | 결과 화면 렌더링 | - | - |
| `generate_dynamic_quiz()` | AI 퀴즈 생성 | artifact | quiz |
| `generate_enhanced_explanation()` | AI 해설 생성 | artifact, quiz, is_correct, user_question | explanation |

#### services/llm_service.py
| 함수명 | 설명 | 입력 | 출력 |
|-------|------|-----|------|
| `generate_content()` | AI 콘텐츠 생성 | prompt | response |
| `generate_quiz()` | 퀴즈 생성 | artifact_info | quiz_dict |
| `generate_explanation()` | 해설 생성 | context | explanation |

#### services/museum_api.py
| 함수명 | 설명 | 입력 | 출력 |
|-------|------|-----|------|
| `fetch_artifact()` | 단일 유물 조회 | artifact_id | artifact |
| `fetch_random_artifacts()` | 랜덤 유물 목록 | count | artifacts[] |
| `search_artifacts()` | 유물 검색 | query | artifacts[] |

### 3.7 API 연동 명세

#### Google Gemini API
```python
# 초기화
genai.configure(api_key=GEMINI_API_KEY)
model = genai.GenerativeModel('gemini-2.0-flash')

# 퀴즈 생성 요청
response = model.generate_content(f"""
다음 유물에 대한 4지선다 퀴즈를 생성해주세요.

유물명: {artifact['name']}
시대: {artifact['period']}
재질: {artifact['material']}
설명: {artifact['description']}

JSON 형식으로 응답:
{{"question": "...", "options": [...], "answer": 0-3, "explanation": "..."}}
""")
```

#### 국립중앙박물관 e-Museum API
```
Base URL: http://www.emuseum.go.kr/openapi

GET /relic/list
  - serviceKey: API 인증키
  - pageNo: 페이지 번호
  - numOfRows: 페이지당 항목 수
  - name: 유물명 검색어

GET /relic/detail
  - serviceKey: API 인증키
  - id: 유물 ID
```

---

## 4. UI/UX Flow

### 4.1 전체 사용자 흐름

```
┌─────────────────────────────────────────────────────────────────┐
│                        사용자 흐름 (User Flow)                    │
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│    ┌─────────┐                                                 │
│    │  START  │                                                 │
│    └────┬────┘                                                 │
│         │                                                       │
│         ▼                                                       │
│    ┌─────────────────────────────────────┐                     │
│    │        1. 시작 화면 (Welcome)        │                     │
│    │  • 서비스 소개 메시지                 │                     │
│    │  • 10개 유물 카드 표시                │                     │
│    └────────────────┬────────────────────┘                     │
│                     │                                           │
│                     ▼                                           │
│    ┌─────────────────────────────────────┐                     │
│    │      2. 유물 선택 (Selection)        │                     │
│    │  • 유물 카드 터치하여 선택 (3-10개)   │                     │
│    │  • 선택 완료 후 "퀴즈 시작" 클릭       │                     │
│    └────────────────┬────────────────────┘                     │
│                     │                                           │
│                     ▼                                           │
│    ┌─────────────────────────────────────┐                     │
│    │       3. 퀴즈 생성 (Loading)         │                     │
│    │  • AI가 각 유물별 퀴즈 생성 중        │                     │
│    │  • 로딩 스피너 표시                   │                     │
│    └────────────────┬────────────────────┘                     │
│                     │                                           │
│                     ▼                                           │
│    ┌─────────────────────────────────────┐     ┌─────────┐    │
│    │         4. 퀴즈 풀이 (Quiz)          │────▶│ 질문하기 │    │
│    │  • 유물 이미지 및 정보 표시           │◀────│ (선택)   │    │
│    │  • 4지선다 문제 표시                  │     └─────────┘    │
│    │  • 답 선택 후 "제출" 클릭             │                     │
│    │  • 정답 여부 및 AI 해설 표시          │                     │
│    │  • "다음 문제" 클릭                   │                     │
│    └────────────────┬────────────────────┘                     │
│                     │                                           │
│                     │ (모든 문제 완료)                           │
│                     ▼                                           │
│    ┌─────────────────────────────────────┐                     │
│    │         5. 결과 확인 (Result)        │                     │
│    │  • 최종 점수 표시 (X / Y)             │                     │
│    │  • 격려 메시지                        │                     │
│    │  • 문제별 상세 리뷰 (펼치기/접기)      │                     │
│    │  • "다시 도전" 버튼                   │                     │
│    └────────────────┬────────────────────┘                     │
│                     │                                           │
│         ┌──────────┴──────────┐                                │
│         ▼                     ▼                                 │
│    ┌─────────┐          ┌─────────┐                            │
│    │  종료   │          │ 재시작  │────▶ (1번으로 돌아감)       │
│    └─────────┘          └─────────┘                            │
│                                                                 │
└─────────────────────────────────────────────────────────────────┘
```

### 4.2 화면별 상세 UI

#### 4.2.1 시작 화면 (Selection Stage)

```
┌─────────────────────────────────────────────────────────────────┐
│  🏛️ 박물관 AI 가이드                                            │
│  Museum AI Learning Assistant                                   │
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│  ┌───────────────────────────────────────────────────────────┐ │
│  │ 🏛️ 안녕하세요! 박물관 AI 가이드입니다.                      │ │
│  │    오늘 관람하신 유물들 중에서 퀴즈로 배워볼까요?            │ │
│  │    3~10개의 유물을 선택해 주세요!                          │ │
│  └───────────────────────────────────────────────────────────┘ │
│                                                                 │
│  ┌─────────────────────────────────────────────────────────┐   │
│  │ ┌─────────────────────────────────────────────────────┐ │   │
│  │ │  [이미지]  금동미륵보살반가사유상                      │ │   │
│  │ │            삼국시대 (6세기) | 국립중앙박물관           │ │   │
│  │ │            국보 제78호                      [ ○ 선택 ]│ │   │
│  │ └─────────────────────────────────────────────────────┘ │   │
│  │ ┌─────────────────────────────────────────────────────┐ │   │
│  │ │  [이미지]  경천사지 십층석탑                          │ │   │
│  │ │            고려시대 (1348년) | 국립중앙박물관          │ │   │
│  │ │            국보 제86호                      [ ✓ 선택 ]│ │   │
│  │ └─────────────────────────────────────────────────────┘ │   │
│  │                        ...                              │   │
│  └─────────────────────────────────────────────────────────┘   │
│                                                                 │
│                    [     🎯 퀴즈 시작하기 (3개 선택됨)     ]     │
│                                                                 │
└─────────────────────────────────────────────────────────────────┘
```

#### 4.2.2 퀴즈 화면 (Quiz Stage)

```
┌─────────────────────────────────────────────────────────────────┐
│  🏛️ 박물관 AI 가이드                      문제 3/5  점수: 2점   │
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│  ┌───────────────────────────────────────────────────────────┐ │
│  │                    [유물 이미지]                           │ │
│  │                                                           │ │
│  │              금동미륵보살반가사유상                         │ │
│  │              삼국시대 (6세기) | 국보 제78호                │ │
│  └───────────────────────────────────────────────────────────┘ │
│                                                                 │
│  ▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓░░░░░░░░░░░░  진행률 60%                   │
│                                                                 │
│  ┌───────────────────────────────────────────────────────────┐ │
│  │ Q. 이 불상의 독특한 자세를 무엇이라고 부르나요?             │ │
│  ├───────────────────────────────────────────────────────────┤ │
│  │  ┌─────────────────────────────────────────────────────┐  │ │
│  │  │  ① 좌선자세                                         │  │ │
│  │  └─────────────────────────────────────────────────────┘  │ │
│  │  ┌─────────────────────────────────────────────────────┐  │ │
│  │  │  ② 반가사유자세                            ◀ 선택됨 │  │ │
│  │  └─────────────────────────────────────────────────────┘  │ │
│  │  ┌─────────────────────────────────────────────────────┐  │ │
│  │  │  ③ 입상자세                                         │  │ │
│  │  └─────────────────────────────────────────────────────┘  │ │
│  │  ┌─────────────────────────────────────────────────────┐  │ │
│  │  │  ④ 와상자세                                         │  │ │
│  │  └─────────────────────────────────────────────────────┘  │ │
│  └───────────────────────────────────────────────────────────┘ │
│                                                                 │
│  ┌───────────────────────────────────────────────────────────┐ │
│  │ 💭 궁금한 점이 있으신가요? (선택)                          │ │
│  │ ┌─────────────────────────────────────────────────────┐   │ │
│  │ │ 반가사유자세가 의미하는 것이 무엇인가요?              │   │ │
│  │ └─────────────────────────────────────────────────────┘   │ │
│  └───────────────────────────────────────────────────────────┘ │
│                                                                 │
│                        [      ✅ 답안 제출      ]               │
│                                                                 │
└─────────────────────────────────────────────────────────────────┘
```

#### 4.2.3 결과 화면 (Result Stage)

```
┌─────────────────────────────────────────────────────────────────┐
│  🏛️ 박물관 AI 가이드                                            │
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│               ┌─────────────────────────────┐                  │
│               │         🎉 축하합니다!        │                  │
│               │                             │                  │
│               │         ┌───────────┐       │                  │
│               │         │   4 / 5   │       │                  │
│               │         │   80%     │       │                  │
│               │         └───────────┘       │                  │
│               │                             │                  │
│               │  훌륭해요! 유물에 대한 이해가   │                  │
│               │  매우 깊어졌습니다! 🌟        │                  │
│               └─────────────────────────────┘                  │
│                                                                 │
│  ┌───────────────────────────────────────────────────────────┐ │
│  │ 📋 상세 결과 보기                                          │ │
│  ├───────────────────────────────────────────────────────────┤ │
│  │ ▼ 문제 1: 금동미륵보살반가사유상                  ✅ 정답   │ │
│  │   ├─ 내 답: ② 반가사유자세                               │ │
│  │   ├─ 정답: ② 반가사유자세                                 │ │
│  │   └─ 해설: 반가사유자세는 한쪽 다리를 다른 다리 위에...     │ │
│  │                                                           │ │
│  │ ▶ 문제 2: 경천사지 십층석탑                      ❌ 오답   │ │
│  │                                                           │ │
│  │ ▶ 문제 3: 금관총 금관                           ✅ 정답   │ │
│  │                                                           │ │
│  │ ▶ 문제 4: 백자 달항아리                         ✅ 정답   │ │
│  │                                                           │ │
│  │ ▶ 문제 5: 기마 인물형 토기                      ✅ 정답   │ │
│  └───────────────────────────────────────────────────────────┘ │
│                                                                 │
│                     [     🔄 다시 도전하기     ]                │
│                                                                 │
└─────────────────────────────────────────────────────────────────┘
```

### 4.3 UI 컴포넌트 스타일 가이드

#### 색상 시스템
| 용도 | 색상 코드 | 적용 |
|-----|---------|------|
| Primary | #3b82f6 | 버튼, 강조 텍스트, 링크 |
| Background | #ffffff | 페이지 배경 |
| Surface | #f8fafc | 카드, 입력창 배경 |
| Text Primary | #1f2937 | 본문 텍스트 |
| Text Secondary | #6b7280 | 보조 텍스트 |
| Success | #4ade80 | 정답, 완료 상태 |
| Error | #f87171 | 오답, 에러 상태 |
| Warning | #fbbf24 | 경고, 주의 |

#### 타이포그래피
| 요소 | 폰트 | 크기 | 굵기 |
|-----|-----|-----|-----|
| 제목 | Noto Sans KR | 24px | 700 |
| 부제목 | Noto Sans KR | 18px | 600 |
| 본문 | Noto Sans KR | 16px | 400 |
| 캡션 | Noto Sans KR | 14px | 400 |

#### 컴포넌트 규격
| 컴포넌트 | 속성 | 값 |
|---------|-----|-----|
| 버튼 | border-radius | 8px |
| 카드 | border-radius | 12px |
| 카드 | box-shadow | 0 2px 8px rgba(0,0,0,0.1) |
| 입력창 | height | 44px |
| 간격 | gap | 16px |

---

## 5. 기술 스택 요약

### 5.1 기술 스택 다이어그램

```
┌─────────────────────────────────────────────────────────────────┐
│                         기술 스택                                │
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│  ┌─────────────────────────────────────────────────────────┐   │
│  │                      FRONTEND                           │   │
│  │  ┌─────────────┐  ┌─────────────┐  ┌─────────────┐     │   │
│  │  │  Streamlit  │  │  HTML/CSS   │  │ Google Fonts│     │   │
│  │  │   1.30.0+   │  │  Custom     │  │ Noto Sans KR│     │   │
│  │  └─────────────┘  └─────────────┘  └─────────────┘     │   │
│  └─────────────────────────────────────────────────────────┘   │
│                                                                 │
│  ┌─────────────────────────────────────────────────────────┐   │
│  │                      BACKEND                            │   │
│  │  ┌─────────────┐  ┌─────────────┐  ┌─────────────┐     │   │
│  │  │   Python    │  │  Requests   │  │ python-dotenv│    │   │
│  │  │   3.10+     │  │   2.31.0+   │  │   1.0.0+    │     │   │
│  │  └─────────────┘  └─────────────┘  └─────────────┘     │   │
│  └─────────────────────────────────────────────────────────┘   │
│                                                                 │
│  ┌─────────────────────────────────────────────────────────┐   │
│  │                     AI / LLM                            │   │
│  │  ┌─────────────────────────────────────────────────┐   │   │
│  │  │              Google Gemini 2.0-Flash             │   │   │
│  │  │         google-generativeai 0.3.0+               │   │   │
│  │  └─────────────────────────────────────────────────┘   │   │
│  └─────────────────────────────────────────────────────────┘   │
│                                                                 │
│  ┌─────────────────────────────────────────────────────────┐   │
│  │                   EXTERNAL APIs                         │   │
│  │  ┌───────────────────────┐  ┌───────────────────────┐  │   │
│  │  │  국립중앙박물관 API    │  │  Google AI API        │  │   │
│  │  │  e-Museum OpenAPI     │  │  Generative AI        │  │   │
│  │  └───────────────────────┘  └───────────────────────┘  │   │
│  └─────────────────────────────────────────────────────────┘   │
│                                                                 │
│  ┌─────────────────────────────────────────────────────────┐   │
│  │                    DATA / STORAGE                       │   │
│  │  ┌───────────────────────┐  ┌───────────────────────┐  │   │
│  │  │  Streamlit Session    │  │  Local JSON/Python    │  │   │
│  │  │  State (In-Memory)    │  │  (Artifact Database)  │  │   │
│  │  └───────────────────────┘  └───────────────────────┘  │   │
│  └─────────────────────────────────────────────────────────┘   │
│                                                                 │
└─────────────────────────────────────────────────────────────────┘
```

### 5.2 의존성 목록

```
# requirements.txt
streamlit>=1.30.0
google-generativeai>=0.3.0
requests>=2.31.0
python-dotenv>=1.0.0
```

### 5.3 환경 변수

```bash
# .env
GEMINI_API_KEY=your_gemini_api_key_here
MUSEUM_API_KEY=your_museum_api_key_here
```

---

## 6. 프로젝트 일정 및 마일스톤

### 6.1 개발 단계

| 단계 | 내용 | 산출물 |
|-----|------|-------|
| **Phase 1** | 기본 구조 설계 및 UI 프로토타입 | 와이어프레임, 컴포넌트 설계 |
| **Phase 2** | 유물 데이터베이스 및 선택 기능 | 유물 DB, 선택 UI |
| **Phase 3** | AI 퀴즈 생성 시스템 | Gemini API 연동, 퀴즈 로직 |
| **Phase 4** | 질문 응답 및 맞춤 해설 | 실시간 Q&A 기능 |
| **Phase 5** | 결과 분석 및 리뷰 화면 | 결과 요약, 상세 리뷰 |
| **Phase 6** | 테스트 및 최적화 | 버그 수정, 성능 개선 |
| **Phase 7** | 배포 및 운영 | 웹 배포, 모니터링 |

### 6.2 현재 진행 상태

- [x] Phase 1: 기본 구조 설계
- [x] Phase 2: 유물 데이터베이스 구축
- [x] Phase 3: AI 퀴즈 생성 시스템
- [x] Phase 4: 질문 응답 기능
- [x] Phase 5: 결과 분석 화면
- [ ] Phase 6: 연령대별 난이도 조정
- [ ] Phase 7: 다국어 지원

---

## 7. 부록

### 7.1 국보 유물 목록 (MVP 대상)

| No. | 유물명 | 지정번호 | 시대 |
|-----|-------|---------|-----|
| 1 | 금동미륵보살반가사유상 | 국보 제78호 | 삼국시대 |
| 2 | 금동미륵보살반가사유상 | 국보 제83호 | 삼국시대 |
| 3 | 경천사지 십층석탑 | 국보 제86호 | 고려시대 |
| 4 | 금관총 금관 | 국보 제87호 | 신라시대 |
| 5 | 기마 인물형 토기 | 국보 제91호 | 신라시대 |
| 6 | 청동 은입사 포류수금문 정병 | 국보 제92호 | 고려시대 |
| 7 | 백자 달항아리 | 국보 제309호 | 조선시대 |
| 8 | 금동 연가7년명 여래입상 | 국보 제119호 | 고구려 |
| 9 | 다뉴세문경 | 국보 제141호 | 청동기시대 |
| 10 | 인왕제색도 | 국보 제216호 | 조선시대 |
| 11 | 금동관음보살입상 | 국보 제127호 | 삼국시대 |
| 12 | 백자 청화매죽문 항아리 | 국보 제219호 | 조선시대 |
| 13 | 진흥왕 북한산 순수비 | 국보 제3호 | 신라시대 |
| 14 | 수월관음도 | 국보 제323호 | 고려시대 |
| 15 | 청자 상감모란문 표형병 | 국보 제116호 | 고려시대 |

### 7.2 참고 자료

- 국립중앙박물관 e-Museum API: http://www.emuseum.go.kr/openapi
- Google Gemini API Documentation: https://ai.google.dev/docs
- Streamlit Documentation: https://docs.streamlit.io/

---

## 문서 정보

| 항목 | 내용 |
|-----|------|
| 문서명 | 국립중앙박물관 학습 도우미 NCM 프로젝트 명세서 |
| 버전 | 1.0 |
| 작성일 | 2026-01-13 |
| 상태 | MVP 개발 완료 |
